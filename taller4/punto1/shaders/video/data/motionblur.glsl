#ifdef GL_ES
precision mediump float;
precision mediump int;
#endif

uniform sampler2D texture;
uniform vec2 texOffset;

varying vec4 vertColor;
varying vec4 vertTexCoord;

const vec4 lumcoeff = vec4(0.299, 0.587, 0.114, 0);

void main() {
  vec2 tc0 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc1 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc2 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc3 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc4 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc5 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc6 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc7 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc8 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc9 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc10 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc11 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc12 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc13 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc14 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc15 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc16 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc17 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc18 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc19 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc20 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc21 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc22 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc23 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc24 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc25 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc26 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc27 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc28 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc29 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc30 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc31 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc32 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc33 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc34 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc35 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc36 = vertTexCoord.st + vec2(-texOffset.s, -texOffset.t);
  vec2 tc37 = vertTexCoord.st + vec2(         0.0, -texOffset.t);
  vec2 tc38 = vertTexCoord.st + vec2(+texOffset.s, -texOffset.t);
  vec2 tc39 = vertTexCoord.st + vec2(-texOffset.s,          0.0);
  vec2 tc40 = vertTexCoord.st + vec2(          0.0,         0.0);
  vec2 tc41 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc42 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc43 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc44 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc45 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc46 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc47 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc48 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc49 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc50 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc51 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc52 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc53 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc54 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc55 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc56 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc57 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc58 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc59 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc60 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc61 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc62 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc63 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc64 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc65 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc66 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc67 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc68 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc69 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc70 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc71 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc72 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc73 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc74 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc75 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc76 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);
  vec2 tc77 = vertTexCoord.st + vec2(+texOffset.s,          0.0);
  vec2 tc78 = vertTexCoord.st + vec2(-texOffset.s, +texOffset.t);
  vec2 tc79 = vertTexCoord.st + vec2(         0.0, +texOffset.t);
  vec2 tc80 = vertTexCoord.st + vec2(+texOffset.s, +texOffset.t);

  vec4 col0 = texture2D(texture, tc0);
  vec4 col1 = texture2D(texture, tc1);
  vec4 col2 = texture2D(texture, tc2);
  vec4 col3 = texture2D(texture, tc3);
  vec4 col4 = texture2D(texture, tc4);
  vec4 col5 = texture2D(texture, tc5);
  vec4 col6 = texture2D(texture, tc6);
  vec4 col7 = texture2D(texture, tc7);
  vec4 col8 = texture2D(texture, tc8);
  vec4 col9 = texture2D(texture, tc9);
  vec4 col10 = texture2D(texture, tc10);
  vec4 col11 = texture2D(texture, tc11);
  vec4 col12 = texture2D(texture, tc12);
  vec4 col13 = texture2D(texture, tc13);
  vec4 col14 = texture2D(texture, tc14);
  vec4 col15 = texture2D(texture, tc15);
  vec4 col16 = texture2D(texture, tc16);
  vec4 col17 = texture2D(texture, tc17);
  vec4 col18 = texture2D(texture, tc18);
  vec4 col19 = texture2D(texture, tc19);
  vec4 col20 = texture2D(texture, tc20);
  vec4 col21 = texture2D(texture, tc21);
  vec4 col22 = texture2D(texture, tc22);
  vec4 col23 = texture2D(texture, tc23);
  vec4 col24 = texture2D(texture, tc24);
  vec4 col25 = texture2D(texture, tc25);
  vec4 col26 = texture2D(texture, tc26);
  vec4 col27 = texture2D(texture, tc27);
  vec4 col28 = texture2D(texture, tc28);
  vec4 col29 = texture2D(texture, tc29);
  vec4 col30 = texture2D(texture, tc30);
  vec4 col31 = texture2D(texture, tc31);
  vec4 col32 = texture2D(texture, tc32);
  vec4 col33 = texture2D(texture, tc33);
  vec4 col34 = texture2D(texture, tc34);
  vec4 col35 = texture2D(texture, tc35);
  vec4 col36 = texture2D(texture, tc36);
  vec4 col37 = texture2D(texture, tc37);
  vec4 col38 = texture2D(texture, tc38);
  vec4 col39 = texture2D(texture, tc39);
  vec4 col40 = texture2D(texture, tc40);
  vec4 col41 = texture2D(texture, tc41);
  vec4 col42 = texture2D(texture, tc42);
  vec4 col43 = texture2D(texture, tc43);
  vec4 col44 = texture2D(texture, tc44);
  vec4 col45 = texture2D(texture, tc45);
  vec4 col46 = texture2D(texture, tc46);
  vec4 col47 = texture2D(texture, tc47);
  vec4 col48 = texture2D(texture, tc48);
  vec4 col49 = texture2D(texture, tc49);
  vec4 col50 = texture2D(texture, tc50);
  vec4 col51 = texture2D(texture, tc51);
  vec4 col52 = texture2D(texture, tc52);
  vec4 col53 = texture2D(texture, tc53);
  vec4 col54 = texture2D(texture, tc54);
  vec4 col55 = texture2D(texture, tc55);
  vec4 col56 = texture2D(texture, tc56);
  vec4 col57 = texture2D(texture, tc57);
  vec4 col58 = texture2D(texture, tc58);
  vec4 col59 = texture2D(texture, tc59);
  vec4 col60 = texture2D(texture, tc60);
  vec4 col61 = texture2D(texture, tc61);
  vec4 col62 = texture2D(texture, tc62);
  vec4 col63 = texture2D(texture, tc63);
  vec4 col64 = texture2D(texture, tc64);
  vec4 col65 = texture2D(texture, tc65);
  vec4 col66 = texture2D(texture, tc66);
  vec4 col67 = texture2D(texture, tc67);
  vec4 col68 = texture2D(texture, tc68);
  vec4 col69 = texture2D(texture, tc69);
  vec4 col70 = texture2D(texture, tc70);
  vec4 col71 = texture2D(texture, tc71);
  vec4 col72 = texture2D(texture, tc72);
  vec4 col73 = texture2D(texture, tc73);
  vec4 col74 = texture2D(texture, tc74);
  vec4 col75 = texture2D(texture, tc75);
  vec4 col76 = texture2D(texture, tc76);
  vec4 col77 = texture2D(texture, tc77);
  vec4 col78 = texture2D(texture, tc78);
  vec4 col79 = texture2D(texture, tc79);
  vec4 col80 = texture2D(texture, tc80);

  vec4 sum = 0.11111*(col0 + col10 + col20 + col30 + col40 + col50 + col60 + col70 + col80);
  gl_FragColor = vec4(sum.rgb, 1.0) * vertColor;
}